<?xml version="1.0"?>

<application xmlns="http://www.mosaicserver.com/application-1.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://www.mosaicserver.com/application-1.0.0 http://www.mosaicserver.com/application-1.0.0">

    <name>Mosaic Management Console</name>

    <context>
        <parameter name="param1">value-for-param1</parameter>
        <parameter name="param2">value-for-param2</parameter>
    </context>

    <virtual-hosts>
        <virtual-host>localhost</virtual-host>
        <virtual-host>mng.arik.home.local</virtual-host>
    </virtual-hosts>

    <max-session-age>1 hour, 30 minutes</max-session-age>

    <security>
        <realm>localUsers</realm>
        <permission-policy>management</permission-policy>

        <!-- protect API endpoints, -->
        <constraint path="/api/**" auth="basic" challange="basic" expression="subject.authenticated"/>

        <!-- as a last resort, always check the session for a subject, and use it, even for unprotected resources -->
        <constraint path="/**" auth="session" challange="form"/>

    </security>

    <resources>
        <content-roots>
            <content-root>${mosaic.home}/../org.mosaic.management/src/main/web</content-root>
        </content-roots>
    </resources>

</application>
